@model Projet_5_App.Models.ViewModel.CarFormViewModel

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
	ViewData["Title"] = "Create";
}


<div class="container" style="max-width:1320px; margin-top: 30px;">
    <h1 class="text-center" style="font-style: italic; font-size: 44px;">Ajouter une voiture</h1>
    <h3 class="text-center mb-4">tous les champs sont obligatoires</h3>

    <div class="mx-auto p-5 bg-white rounded-4 shadow" style="width: 493px;">
        <form asp-action="Create" asp-controller="CarForSale" asp-area="Admin" method="post" enctype="multipart/form-data">
            @Html.AntiForgeryToken()
            <div class="mb-4">
                <label asp-for="PurchasePrice" class="form-label">Prix d'achat</label>
                <input asp-for="PurchasePrice" class="form-control rounded-1" style="height:64px; border: 1px solid #2C1810;" />
                <span asp-validation-for="PurchasePrice" class="text-danger"></span>
            </div>

            <div class="mb-4">
                <label asp-for="RepairCost" class="form-label">Prix des réparations</label>
                <input asp-for="RepairCost" class="form-control rounded-1" style="height:64px; border: 1px solid #2C1810;" />
            </div>

            <div class="mb-4">
                <label asp-for="Year" class="form-label">Année</label>
                <input asp-for="Year" class="form-control rounded-1" style="height:64px; border: 1px solid #2C1810;" />
                <span asp-validation-for="Year" class="text-danger"></span>
            </div>

            <div class="mb-4">
                <label asp-for="BrandId" class="form-label">Marque</label>
                <select asp-for="BrandId" asp-items="Model.Brands" class="form-control rounded-1" style="height:64px; border: 1px solid #2C1810;">_
                <option value="">-- Sélectionnez une marque --</option>
				</select>
                <span asp-validation-for="BrandId" class="text-danger"></span>
            </div>

            <div class="mb-4">
                <label asp-for="Model" class="form-label">Modèle</label>
                <input asp-for="Model" class="form-control rounded-1" style="height:64px; border: 1px solid #2C1810;" />
                <span asp-validation-for="Model" class="text-danger"></span>
            </div>

            <div class="mb-4">
                <label asp-for="Trim" class="form-label">Finition</label>
                <input asp-for="Trim" class="form-control rounded-1" style="height:64px; border: 1px solid #2C1810;" />
                <span asp-validation-for="Trim" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="ImageFile" class="form-label">Visuel</label><br />
                <div class="rounded-1 mt-2 d-flex align-items-center justify-content-center gap-3" style="height:150px; color: #2C1810; border: 1px solid #2C1810;">
                    <input asp-for="ImageFile" id="ImageFile" type="file" style="display:none;" />
                    <label for="ImageFile" class="image-upload-plus">
                        +
                    </label>
                    <span id="file-name" style="color: #929292">Ajouter une image</span>

                </div>
            </div>

            <div class="text-center mb-3">
                <button type="submit" class="btn btn-express">Publier</button>
            </div>
        </form>
    </div>
</div>
@section Scripts {
    @{
        <script>
            document.getElementById("ImageFile").addEventListener("change", function () {
                const fileName = this.files[0]?.name || "Ajouter une image";
                document.getElementById("file-name").textContent = fileName;
            });
        </script>
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
        }